{% extends 'marketplace/base.html' %}
{% block content %}
<div class="container mt-4">
    <!-- Градиентный заголовок -->
    <div class="card shadow-lg mb-4" style="border: none; border-radius: 15px; background: linear-gradient(135deg, #34d399 0%, #10b981 100%);">
        <div class="card-body text-white text-center py-4">
            <svg class="mb-2" width="48" height="48" fill="currentColor" viewBox="0 0 16 16">
                <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
            </svg>
            <h2 class="mb-0 fw-bold">Каталог товаров</h2>
            <p class="mb-0 mt-2 opacity-75">Выберите понравившийся товар из нашего ассортимента</p>
        </div>
    </div>

    <!-- Кнопка добавить товар -->
    {% if user.is_authenticated %}
    <div class="d-flex justify-content-end mb-4">
        <a href="{% url 'marketplace:product_create' %}" 
           class="btn btn-lg shadow-sm" 
           style="background: linear-gradient(135deg, #34d399 0%, #10b981 100%); 
                  border: none; 
                  border-radius: 8px; 
                  color: white; 
                  transition: all 0.3s ease;"
           onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 20px rgba(52,211,153,0.4)'"
           onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 5px rgba(0,0,0,0.1)'">
            <svg class="me-2" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
            </svg>
            Добавить товар
        </a>
    </div>
    {% endif %}

    <!-- Карточки товаров -->
    <div class="row">
        {% for product in products %}
            {% include 'marketplace/product_card.html' with product=product show_detail_button=True show_time=True %}
        {% endfor %}
    </div>
</div>
{% endblock %}
